<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">

        <title>Querying Visits - Pardot Docs</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">Pardot Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">API Version 3 <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../overview">Overview</a>
                        </li>
                    
                        <li >
                            <a href="../using-the-pardot-api">Using the Pardot API</a>
                        </li>
                    
                        <li >
                            <a href="../authentication">Authentication</a>
                        </li>
                    
                        <li >
                            <a href="../using-opportunities">Using Opportunities</a>
                        </li>
                    
                        <li >
                            <a href="../using-prospects">Using Prospects</a>
                        </li>
                    
                        <li >
                            <a href="../using-prospect-accounts">Using Prospect Accounts</a>
                        </li>
                    
                        <li >
                            <a href="../using-users">Using Users</a>
                        </li>
                    
                        <li >
                            <a href="../using-lists">Using Lists</a>
                        </li>
                    
                        <li >
                            <a href="../using-list-memberships">Using List Memberships</a>
                        </li>
                    
                        <li >
                            <a href="../using-visits">Using Visits</a>
                        </li>
                    
                        <li >
                            <a href="../using-visitors">Using Visitors</a>
                        </li>
                    
                        <li >
                            <a href="../using-visitor-activities">Using Visitor Activities</a>
                        </li>
                    
                        <li >
                            <a href="../querying-prospects">Querying Prospects</a>
                        </li>
                    
                        <li >
                            <a href="../querying-opportunities">Querying Opportunities</a>
                        </li>
                    
                        <li >
                            <a href="../querying-visitors">Querying Visitors</a>
                        </li>
                    
                        <li >
                            <a href="../querying-users">Querying Users</a>
                        </li>
                    
                        <li >
                            <a href="../querying-lists">Querying Lists</a>
                        </li>
                    
                        <li >
                            <a href="../querying-list-memberships">Querying List Memberships</a>
                        </li>
                    
                        <li class="active">
                            <a href=".">Querying Visits</a>
                        </li>
                    
                        <li >
                            <a href="../querying-visitor-activities">Querying Visitor Activities</a>
                        </li>
                    
                        <li >
                            <a href="../querying-prospect-accounts">Querying Prospect Accounts</a>
                        </li>
                    
                        <li >
                            <a href="../reading-emails">Reading Emails</a>
                        </li>
                    
                        <li >
                            <a href="../sending-one-to-one-emails">Sending One to One Emails</a>
                        </li>
                    
                        <li >
                            <a href="../object-field-references">Object Field References</a>
                        </li>
                    
                        <li >
                            <a href="../error-codes-messages">Error Codes & Messages</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li>
                    <a rel="next" href="../querying-list-memberships">
                    <i class="fa fa-arrow-left"></i> Querying List Memberships
                    </a>
                </li>
                
                
                <li>
                    <a rel="prev" href="../querying-visitor-activities">
                    Querying Visitor Activities <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#querying-visits">Querying Visits</a></li>
        
            <li><a href="#supported-search-criteria">Supported Search Criteria</a></li>
        
            <li><a href="#manipulating-the-result-set">Manipulating the Result Set</a></li>
        
            <li><a href="#sort-order">Sort Order</a></li>
        
            <li><a href="#xml-response-format">XML Response Format</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="querying-visits">Querying Visits</h1>
<h2 id="supported-operations">Supported Operations<a name="20559-supported-operations" id="supported-operations"></a></h2>
<table>
<thead>
<tr>
<th><strong>Operation</strong></th>
<th><strong>URL Format</strong></th>
<th><strong>Required Parameters</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>query</code></td>
<td><code>/api/visit/version/3/do/query?...</code></td>
<td><code>user_key, api_key, (ids, visitor_ids, prospect_ids)</code></td>
<td>Returns the visits matching the specified criteria parameters. See the <a href="../../../../using-visits">Using Visits</a> section for a complete description of visit <a href="../../../../using-visits#xml-response-formats">XML Response Formats</a>. Also see <a href="../../../../object-field-references#visit">Visit</a> in <a href="../../../../object-field-references">Object Field References</a>.</td>
</tr>
</tbody>
</table>
<h2 id="supported-search-criteria">Supported Search Criteria</h2>
<p>One of the following parameters must be used when issuing a visits query. A maximum of 200 visits will be returned with each query request. Since these parameter values could be quite large, we recommend using a POST request due to GET request URL character limits.</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Datatype</strong></th>
<th><strong>Options</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ids</code></td>
<td><code>array</code></td>
<td><code>&lt;comma_separated_ids&gt;</code></td>
<td>Selects visits with the given IDs. The IDs should be comma separated positive integers (no spaces). We recommend using a POST request when providing this criteria.</td></td>
</tr>
<tr>
<td><code>visitor_ids</code></td>
<td><code>array</code></td>
<td><code>&lt;comma_separated_ids&gt;</code></td>
<td>Selects visits with the given Visitor IDs. The IDs should be comma separated positive integers (no spaces). We recommend using a POST request when providing this criteria.</td>
</tr>
<tr>
<td><code>prospect_ids</code></td>
<td><code>array</code></td>
<td><code>&lt;comma_separated_ids&gt;</code></td>
<td>Selects visits with the given Prospect IDs. The IDs should be comma separated positive integers (no spaces). We recommend using a POST request when providing this criteria.</td>
</tr>
</tbody>
</table>
<h2 id="manipulating-the-result-set">Manipulating the Result Set</h2>
<p>Since <code>query</code> result sets are limited to 200 results each, the results returned may not include all the visits matched by the query. To retrieve the remaining results, the following criteria can be used to navigate through the result set.</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Datatype</strong></th>
<th><strong>Options</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>limit</code></td>
<td><code>integer</code></td>
<td><code>&lt;any_positive_integer&gt;</code></td>
<td>Specifies the number of results to be returned. <em>Default value:</em> <code>200</code>. <strong><em>Note:</em></strong> This number cannot be larger than 200.</td>
</tr>
<tr>
<td><code>offset</code></td>
<td><code>integer</code></td>
<td><code>&lt;any_positive_integer&gt;</code></td>
<td>Specifies the first matching visit to be returned in the query response. The first <code>offset</code> matching visits will be omitted from the response. <em>Default value:</em> <code>0</code>. <strong><em>Example:</em></strong> Specifying <code>offset=400</code> will return the results starting with the 401st visit matched by the provided criteria.</td>
</tr>
</tbody>
</table>
<h2 id="sort-order">Sort Order</h2>
<p>Visits are returned in order of ascending IDs.</p>
<h2 id="xml-response-format">XML Response Format</h2>
<pre><code>&lt;rsp stat=&quot;ok&quot; version=&quot;1.0&quot;&gt;
    &lt;result&gt;
        &lt;total_results&gt;...&lt;/total_results&gt;
        &lt;visit&gt;...&lt;/visit&gt;
            ...
    &lt;/result&gt;
&lt;/rsp&gt;
</code></pre>

<table>
<thead>
<tr>
<th><strong>Tag</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;result&gt;</code></td>
<td>Contains the resulting visits for the specified query.</td>
</tr>
<tr>
<td><code>&lt;total_results&gt;</code></td>
<td>Contains the number of visits selected by this query. If this value is higher than 200, then several query requests may be necessary to retrieve all of the matched visits.</td>
</tr>
<tr>
<td><code>&lt;visit&gt;</code></td>
<td>The data for an individual visit. See <a href="../../../../using-visits">Using Visits</a> for complete descriptions of visit <a href="../../../../using-visits#xml-response-formats">XML Response Formats</a>. Also see <a href="../../../../object-field-references#visit">Visit</a> in <a href="../../../../object-field-references">Object Field References</a>.</td>
</tr>
</tbody>
</table>
</div>
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/prettify-1.0.min.js"></script>
        <script src="../../../js/base.js"></script>
    </body>
</html>