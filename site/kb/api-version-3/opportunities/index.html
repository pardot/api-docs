<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://developer.pardot.com/kb/api-version-3/opportunities/">
        <link rel="shortcut icon" href="../../../favicon.ico">
        

        <title>Opportunities - Pardot API Documentation</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">Pardot API Documentation</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">API <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../..">Using the API</a>
                            </li>
                        
                            <li >
                                <a href="../object-field-references">Object Field References</a>
                            </li>
                        
                            <li >
                                <a href="../error-codes-messages">Error Codes & Messages</a>
                            </li>
                        
                        </ul>
                    </li>
                
            
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Methods <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../campaigns">Campaigns</a>
                            </li>
                        
                            <li >
                                <a href="../custom-fields">Custom Fields</a>
                            </li>
                        
                            <li >
                                <a href="../custom-redirects">Custom Redirects</a>
                            </li>
                        
                            <li >
                                <a href="../dynamic-content">Dynamic Content</a>
                            </li>
                        
                            <li >
                                <a href="../emails">Email</a>
                            </li>
                        
                            <li >
                                <a href="../email-templates">Email Templates</a>
                            </li>
                        
                            <li >
                                <a href="../forms">Forms</a>
                            </li>
                        
                            <li >
                                <a href="../lifecycle-histories">Lifecycle Histories</a>
                            </li>
                        
                            <li >
                                <a href="../lifecycle-stages">Lifecycle Stages</a>
                            </li>
                        
                            <li >
                                <a href="../lists">Lists</a>
                            </li>
                        
                            <li >
                                <a href="../list-memberships">List Memberships</a>
                            </li>
                        
                            <li class="active">
                                <a href=".">Opportunities</a>
                            </li>
                        
                            <li >
                                <a href="../prospects">Prospects</a>
                            </li>
                        
                            <li >
                                <a href="../prospect-accounts">Prospect Accounts</a>
                            </li>
                        
                            <li >
                                <a href="../tags">Tags</a>
                            </li>
                        
                            <li >
                                <a href="../tag-objects">TagObjects</a>
                            </li>
                        
                            <li >
                                <a href="../users">Users</a>
                            </li>
                        
                            <li >
                                <a href="../visitors">Visitors</a>
                            </li>
                        
                            <li >
                                <a href="../visitor-activities">Visitor Activities</a>
                            </li>
                        
                            <li >
                                <a href="../visits">Visits</a>
                            </li>
                        
                        </ul>
                    </li>
                
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li>
                    <a rel="next" href="../list-memberships">
                    <i class="fa fa-arrow-left"></i> List Memberships
                    </a>
                </li>
                
                
                <li>
                    <a rel="prev" href="../prospects">
                    Prospects <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
                <li>
                    <a href="https://github.com/Pardot/api-docs" target="_blank">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#querying-opportunities">Querying Opportunities</a></li>
        
            <li><a href="#supported-search-criteria">Supported Search Criteria</a></li>
        
            <li><a href="#manipulating-the-result-set">Manipulating the Result Set</a></li>
        
            <li><a href="#supported-sorting-options">Supported Sorting Options</a></li>
        
            <li><a href="#xml-response-format">XML Response Format</a></li>
        
    
        <li class="main "><a href="#using-opportunities">Using Opportunities</a></li>
        
            <li><a href="#xml-response-formats">XML Response Formats</a></li>
        
            <li><a href="#updating-field-values">Updating Field Values</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9 main-content" role="main">

<h1 id="querying-opportunities">Querying Opportunities</h1>
<h2 id="supported-operations">Supported Operations<a name="14770-supported-operations"></a></h2>
<table>
<thead>
<tr>
<th><strong>Operation</strong></th>
<th><strong>URL Format</strong></th>
<th><strong>Required Parameters</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>query</code></td>
<td><code>/api/opportunity/version/3/do/query?...</code></td>
<td><code>user_key, api_key</code></td>
<td>Returns the opportunities matching the specified criteria parameters. See [Using Opportunities (using-opportunities) for complete descriptions of opportunity <a href="../../../kb/api-version-3/opportunities#xml-response-formats">XML Response Formats</a>. Also see <a href="../../../kb/api-version-3/object-field references#opportunity">Opportunity</a> in <a href="../../../kb/api-version-3/object-field-references">Object Field References</a>.</td>
</tr>
</tbody>
</table>
<h2 id="supported-search-criteria">Supported Search Criteria</h2>
<p>Search criteria may be used together in any combination and/or order unless otherwise specified. Unless <code>output=mobile</code> is specified, 200 opportunities will be returned with each query request. This limit is not enforced for responses formatted with <code>output=mobile</code>.</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Datatype</strong></th>
<th><strong>Options</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>created_after</code></td>
<td><code>string</code></td>
<td><code>today, yesterday, last_7_days, this_month, last_month,&lt;custom_time&gt;</code></td>
<td>Selects opportunities that were created after the specified time. If a <code>&lt;custom_time&gt;</code> is used, ensure that the specified date is formatted using <a href="http://www.gnu.org/software/tar/manual/html_node/Date-input formats.html">GNU Date Input Syntax</a>.</td>
</tr>
<tr>
<td><code>created_before</code></td>
<td><code>string</code></td>
<td><code>today, yesterday, last_7_days, this_month, last_month, &lt;custom_time&gt;</code></td>
<td>Selects opportunities that were created before the specified time. If a <code>&lt;custom_time&gt;</code> is used, ensure that the specified date is formatted using <a href="http://www.gnu.org/software/tar/manual/html_node/Date-input-formats.html">GNU Date Input Syntax</a>.</td>
</tr>
<tr>
<td><code>id_greater_than</code></td>
<td><code>integer</code></td>
<td>Selects opportunities with IDs greater than the specified integer.</td>
<td></td>
</tr>
<tr>
<td><code>id_less_than</code></td>
<td><code>integer</code></td>
<td>Selects opportunities with IDs less than the specified integer.</td>
<td></td>
</tr>
<tr>
<td><code>probability_greater_than</code></td>
<td><code>integer</code></td>
<td>Selects opportunities with probabilities greater than the specified number.</td>
<td></td>
</tr>
<tr>
<td><code>probability_less_than</code></td>
<td><code>integer</code></td>
<td>Selects opportunities with probabilities less than the specified number.</td>
<td></td>
</tr>
<tr>
<td><code>prospect_email</code></td>
<td><code>string</code></td>
<td>Selects opportunities associated with the specified prospect. <code>prospect_email</code> must correspond to an existing prospect. <strong><em>Note:</em></strong> If both <code>prospect_email</code> and <code>prospect_id</code> are specified, both must correspond to the same prospect. Otherwise, the API will return an error.</td>
<td></td>
</tr>
<tr>
<td><code>prospect_id</code></td>
<td><code>integer</code></td>
<td>Selects opportunities associated with the specified prospect. <code>prospect_id</code> must correspond to an existing prospect. <strong><em>Note:</em></strong> If both <code>prospect_email</code> and <code>prospect_id</code> are specified, both must correspond to the same prospect. Otherwise, the API will return an error.</td>
<td></td>
</tr>
<tr>
<td><code>value_greater_than</code></td>
<td><code>integer</code></td>
<td>Selects opportunities that have a value greater than a specified integer.</td>
<td></td>
</tr>
<tr>
<td><code>value_less_than</code></td>
<td><code>integer</code></td>
<td>Selects opportunities that have a value less than a specified integer.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="manipulating-the-result-set">Manipulating the Result Set</h2>
<p>Since <code>query</code> result sets are limited to 200 results each, the returned results may not include all opportunities that were matched by the query. The following criteria can be used to navigate through the result set and retrieve the remaining results.</p>
<table>
<thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Datatype</strong></th>
<th><strong>Options</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>limit</code></td>
<td><code>integer</code></td>
<td></td>
<td>Specifies the number of results to be returned. <em>Default value:</em> <code>200</code>. <strong><em>Note:</em></strong> This number cannot be larger than 200.</td>
</tr>
<tr>
<td><code>offset</code></td>
<td><code>integer</code></td>
<td></td>
<td>Specifies the first matching opportunity (according to the specified sorting order) to be returned in the query response. The first <code>offset</code> matching opportunities will be omitted from the response. <em>Default value:</em> <code>0</code>. <strong><em>Example:</em></strong> Specifying <code>offset=400</code> will return the results starting with the 401st opportunity matched by the provided criteria.</td>
</tr>
<tr>
<td><code>output</code></td>
<td><code>simple, mobile</code></td>
<td></td>
<td>Specifies the format to be used when returning the results of the query. See <a href="../../../kb/api-version-3/opportunities#xml-response-formats">XML Response Formats</a> in <a href="../../../kb/api-version-3/opportunities">Using Opportunities</a> for more details.</td>
</tr>
<tr>
<td><code>sort_by</code></td>
<td><code>string</code></td>
<td><code>created_at, id, probability, value</code></td>
<td>Specifies the field that should be used to sort the results of the query. See [Supported Sorting Options (#14770-supported-sorting-options) for more details. <em>Default value:</em> <code>id</code>.</td>
</tr>
<tr>
<td><code>sort_order</code></td>
<td><code>string</code></td>
<td><code>ascending, descending</code></td>
<td>Specifies the ordering to be used when sorting the results of the query. The default sorting order varies based on the value of the <code>sort_by</code> parameter. See <a href="#supported-sorting-options">Supported Sorting Options</a> for more details.</td>
</tr>
</tbody>
</table>
<h2 id="supported-sorting-options">Supported Sorting Options</h2>
<p>The ordering of the results returned by a <code>query</code> request can be changed by specifying <code>sort_by</code> and <code>sort_order</code> parameters. Any of the following values are valid when specifying the <code>sort_by</code> parameter. For a complete list of fields involved in Opportunity queries, see <a href="../../../kb/api-version-3/object-field-references#opportunity">Opportunity</a> in <a href="../../../kb/api-version-3/object-field-references">Object Field References</a>.</p>
<table>
<thead>
<tr>
<th><strong>Value</strong></th>
<th><strong>Default Sort Order</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>created_at</code></td>
<td><code>descending</code></td>
<td>Specifies that the query results should be sorted by the opportunities' <code>created_at</code> timestamps.</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>ascending</code></td>
<td>Specifies that the query results should be sorted by the opportunities' <code>id</code> fields.</td>
</tr>
<tr>
<td><code>probability</code></td>
<td><code>descending</code></td>
<td>Specifies that the query results should be sorted by the opportunities' <code>probability</code> fields.</td>
</tr>
<tr>
<td><code>value</code></td>
<td><code>descending</code></td>
<td>Specifies that the query results should be sorted by the opportunities' <code>value</code> fields.</td>
</tr>
</tbody>
</table>
<h2 id="xml-response-format">XML Response Format</h2>
<pre><code>&lt;rsp stat=&quot;ok&quot; version=&quot;1.0&quot;&gt;
    &lt;result&gt;
        &lt;total_results&gt;...&lt;/total_results&gt;
        &lt;opportunity&gt;...&lt;/opportunity&gt;
            ...
    &lt;/result&gt;
&lt;/rsp&gt;
</code></pre>

<table>
<thead>
<tr>
<th><strong>Tag</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;result&gt;</code></td>
<td>Contains the resulting opportunities for the specified query.</td>
</tr>
<tr>
<td><code>&lt;total_results&gt;</code></td>
<td>Contains the number of opportunities selected by this query. If this value is higher than 200, then several query requests may be necessary to retrieve all matched opportunities.</td>
</tr>
<tr>
<td><code>&lt;opportunity&gt;</code></td>
<td>The data for an individual Opportunity. See <a href="../../../kb/api-version-3/opportunities">Using Opportunities</a> for complete descriptions of opportunity <a href="../../../kb/api-version-3/opportunities#xml-response-formats">XML Response Formats</a>. Also see <a href="../../../kb/api-version-3/object-field-references#opportunity">Opportunity</a> in <a href="../../../kb/api-version-3/object-field-references">Object Field References</a>. <strong><em>Note:</em></strong> Data concerning an opportunity's activities will NOT be included in a <code>query</code> response. To retrieve this data, use a <code>read</code> request for individual opportunities of interest.</td>
</tr>
</tbody>
</table>
<h1 id="using-opportunities">Using Opportunities</h1>
<h2 id="supported-operations_1"><a href="#supported-operations-a-name-supported-operations-id-supported-operations-a-"></a>Supported Operations<a name="14772-supported-operations" id="supported-operations"></a></h2>
<p>For a complete list of fields involved in Opportunities operations, see the <a href="../../../kb/api-version-3/object-field-references#opportunity">Opportunity</a> section of <a href="../../../kb/api-version-3/object-field-references">Object Field References</a>.</p>
<p><strong><em>Note:</em></strong> If a salesforce.com or SugarCRM connector is present in the API user's account, Opportunities can be read, but they cannot be modified (created, updated, deleted or undeleted).</p>
<table>
<thead>
<tr>
<th><strong>Operation</strong></th>
<th><strong>URL Format</strong></th>
<th><strong>Required Parameters</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>create</code></td>
<td><code>/api/opportunity /version/3/do/create /prospect_email /&lt;prospect_email&gt;?...</code></td>
<td><code>user_key, api_key, prospect_email, name, value, probability</code></td>
<td>Creates a new opportunity using the specified data. <code>prospect_email</code> must correspond to an existing prospect. <code>name</code>, <code>value</code>, and <code>probability</code> must also be specified. See <a href="../../../kb/api-version-3/object-field-references#opportunity">Opportunity</a> in <a href="../../../kb/api-version-3/object-field-references">Object Field References</a> for other field requirements. <strong><em>Note:</em></strong> If both <code>prospect_email</code> and <code>prospect_id</code> are specified, both must correspond to the same prospect. Otherwise, the API will return an error.</td>
</tr>
<tr>
<td><code>create</code></td>
<td><code>/api/opportunity /version/3/do/create /prospect_id /&lt;prospect_id&gt;?...</code></td>
<td><code>user_key, api_key, prospect_id, name, value, probability</code></td>
<td>Creates a new opportunity using the specified data. <code>prospect_id</code> must correspond to an existing prospect. <code>name</code>, <code>value</code>, and <code>probability</code> must also be specified. See <a href="../../../kb/api-version-3/object-field-references#opportunity">Opportunity</a> in <a href="../../../kb/api-version-3/object-field-references">Object Field References</a> for other field requirements. <strong><em>Note:</em></strong> If both <code>prospect_email</code> and <code>prospect_id</code> are specified, both must correspond to the same prospect. Otherwise, the API will return an error.</td>
</tr>
<tr>
<td><code>read</code></td>
<td><code>/api/opportunity /version/3/do/read /id/&lt;id&gt;?...</code></td>
<td><code>user_key, api_key, id</code></td>
<td>Returns the data for the opportunity specified by <code>id</code>, including campaign assignment and associated visitor activities. <code>id</code> is the Pardot ID for the target opportunity.</td>
</tr>
<tr>
<td><code>update</code></td>
<td><code>/api/opportunity /version/3/do/update /id/&lt;id&gt;?...</code></td>
<td><code>user_key, api_key, id</code></td>
<td>Updates the provided data for the opportunity specified by <code>id</code>. <code>id</code> is the Pardot ID for the target opportunity. Fields that are not updated by the request remain unchanged. Returns an updated version of the opportunity.</td>
</tr>
<tr>
<td><code>delete</code></td>
<td><code>/api/opportunity /version/3/do/delete /id/&lt;id&gt;?...</code></td>
<td><code>user_key, api_key, id</code></td>
<td>Deletes the opportunity specified by <code>id</code>. <code>id</code> is the Pardot ID for the target opportunity. Returns no response on success. <strong><em>Note:</em></strong> Deleting an opportunity, whether via the API or within Pardot, will not delete the Visitor Activities or Score changes for the Prospect to whom the Opportunity is linked.</td>
</tr>
<tr>
<td><code>undelete</code></td>
<td><code>/api/opportunity /version/3/do/undelete /id/&lt;id&gt;?...</code></td>
<td><code>user_key, api_key, id</code></td>
<td>Undeletes the opportunity specified by <code>id</code>. <code>id</code> is the Pardot ID for the target opportunity. Returns no response on success.</td>
</tr>
</tbody>
</table>
<p><a name="14772-xml-response-formats" id="xml-response-formats"></a></p>
<h2 id="xml-response-formats"><a href="#xml-response-formats-"></a>XML Response Formats</h2>
<p>For <code>output=full</code>:</p>
<pre><code>&lt;rsp stat=&quot;ok&quot; version=&quot;1.0&quot;&gt;
    &lt;opportunity&gt;
        ...
        &lt;campaign&gt;
            ...
        &lt;/campaign&gt;
        &lt;prospects&gt;
            &lt;prospect&gt;
                ...
            &lt;/prospect&gt;
        &lt;/prospects&gt;
        &lt;opportunity_activities&gt;
            &lt;visitor_activity&gt;
                ...
            &lt;/visitor_activity&gt;
        &lt;/opportunity_activities&gt;
    &lt;/opportunity&gt;
&lt;/rsp&gt;
</code></pre>

<p>For <code>output=simple</code>:</p>
<pre><code>&lt;rsp stat=&quot;ok&quot; version=&quot;1.0&quot;&gt;
    &lt;opportunity&gt;
        ...
        &lt;campaign&gt;
            ...
        &lt;/campaign&gt;
        &lt;prospects&gt;
            &lt;prospect&gt;
                ...
            &lt;/prospect&gt;
        &lt;/prospects&gt;
    &lt;/opportunity&gt;
&lt;/rsp&gt;
</code></pre>

<p>For <code>output=mobile</code>:</p>
<pre><code>&lt;rsp stat=&quot;ok&quot; version=&quot;1.0&quot;&gt;
    &lt;opportunity&gt;
        ...
    &lt;/opportunity&gt;
&lt;/rsp&gt;
</code></pre>

<table>
<thead>
<tr>
<th><strong>Tag</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;opportunity&gt;</code></td>
<td>Parent tag. Contains data fields for target opportunity. Forcomplete field listing, see <a href="../../../kb/api-version-3/object-field-references#opportunity">Opportunity</a> in <a href="../../../kb/api-version-3/object-field-references">Object Field References</a>.</td>
</tr>
<tr>
<td><code>&lt;campaign&gt;</code></td>
<td>Contains <code>&lt;id&gt;</code> and <code>&lt;name&gt;</code> of the campaign to which this opportunity has been assigned.</td>
</tr>
<tr>
<td><code>&lt;prospects&gt;</code></td>
<td>Contains all prospects associated with this opportunity. Contains only <code>&lt;prospect&gt;</code> tags.</td>
</tr>
<tr>
<td><code>&lt;opportunity_activities&gt;</code></td>
<td>Contains all visitor activities associated with this opportunity. Contains only <code>&lt;visitor_activity&gt;</code> tags.</td>
</tr>
<tr>
<td><code>&lt;visitor_activity&gt;</code></td>
<td>Contains data fields for a visitor activity. For complete field listing, see <a href="../../../kb/api-version-3/object-field-references#visitor-activity">Visitor Activity</a> in <a href="../../../kb/api-version-3/object-field-references">Object Field References</a>.</td>
</tr>
</tbody>
</table>
<p><a name="14772-updating-field-values" id="updating-field-values"></a></p>
<h2 id="updating-field-values"><a href="#updating-field-values-"></a>Updating Field Values</h2>
<p>Modifying values of opportunity data fields is done by submitting an <code>update</code> request with parameters for each field to be updated. Each parameter is formatted as <code>&lt;field_name&gt;=&lt;value&gt;</code>.</p>
<p><strong><em>Example:</em></strong> <em>Updating the value of a opportunity (whose Pardot ID is 27):</em></p>
<pre><code>POST: /api/opportunity/version/3/do/update/id/27 message body: value=50000&amp;amp;api_key=&amp;amp;user_key=

GET: /api/opportunity/version/3/do/update/id/27?value=50000&amp;api_key=&lt;api_key&gt;&amp;user_key=&lt;user_key&gt;
</code></pre>

<p>Only values that are specifically named in the request are updated. All others are left unchanged. To clear a value, submit an <code>update</code> request containing a parameter with no specified value, such as <code>status=</code>.</p>
</div>
            
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/prettify-1.0.min.js"></script>
        <script src="../../../js/base.js"></script>
    </body>
</html>